<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Reset Password</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  
</head>
<body>

  <div class="reset-card">
    <h3 class="text-center mb-4">Reset Password</h3>
    <form  [formGroup]="resetPasswordFormGroup" (ngSubmit)="onSubmit()">
      <div class="mb-3">
        <label for="email" class="form-label">Email address</label>
        <input type="email"  formControlName="email" class="form-control" id="email" name="email" placeholder="Enter your email" required>
      </div>
      
      <div class="mb-3">
        <label for="username" class="form-label">Username</label>
        <input type="username"  formControlName="username" class="form-control" id="username" name="username" placeholder="Enter your username" required>
      </div>

      <div class="mb-3">
        <label for="new-password" class="form-label">New Password</label>
        <input type="password" formControlName="newPassword" class="form-control" id="new-password" name="newPassword" placeholder="Enter new password" required>
      </div>

      <div class="mb-3">
        <label for="confirm-password" class="form-label">Confirm New Password</label>
        <input type="password" formControlName="newPasswordAgain" class="form-control" id="confirm-password" name="confirmPassword" placeholder="Re-enter new password" required>
      </div>

      <button type="submit" class="btn btn-success w-100">Reset Password</button>
    </form>
  </div>

  


  <div class="modal"  id="myModalEnterOtp" #myModalEnterOtp  tabindex="-1" aria-labelledby="otpModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
      <div class="modal-content rounded-4 shadow">
        <div class="modal-header border-0">
          <h5 class="modal-title" id="otpModalLabel">OTP Confirmation</h5>
          <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Đóng"
            (click)="closeModalEnterOtp()"
          ></button>
        </div>
        <div class="modal-body text-center">
          <p class="mb-3">
            Your OTP is sent to
            <strong class="text-primary">{{ this.resetPasswordFormGroup.value.email }}</strong><br />
            OTP valid for
            <strong class="text-danger">{{ timeLeft }} seconds</strong>
          </p>
          <input type="text"  [(ngModel)]="otp" maxlength="6" class="form-control text-center fs-4 fw-bold mb-3"
            placeholder="Nhập OTP"
          />
          <button class="btn btn-primary w-100" (click)="submitOtp()">Confirm</button>

          <button
            class="btn btn-link mt-2"
            (click)="resendOtp()"
            [disabled]="timeLeft > 100"
          >
            Resend OTP
          </button>
          
          
        </div>
      </div>
    </div>
  </div>

</body>
</html>
